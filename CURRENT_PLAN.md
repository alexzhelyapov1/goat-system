### Общая цель: Полностью заменить Flask-фронтенд новым React-приложением, обеспечив функциональность всех существующих пользовательских функций в React, взаимодействующих с бэкендом FastAPI.

---

### Фаза 1: Основа и Архитектура (Уже выполнено/проверено)

*   **1.1 Настройка React-проекта**: Инициализация Vite, TypeScript, Tailwind CSS в директории `frontend/`.
*   **1.2 Конфигурация Docker и Nginx**: Настройка `docker-compose.yml` для запуска React-приложения и `nginx/default.conf` для проксирования трафика.
*   **1.3 Проверка связности с бэкендом**: Реализация базовой проверки доступности API (`/health`).
*   **1.4 Базовая аутентификация**: Реализация страницы входа/выхода и отображения данных пользователя после успешной аутентификации.

---

### Фаза 2: Миграция Функционала - Основные Пользовательские Сценарии

Эта фаза будет проходить итеративно, модуль за модулем.

#### 2.1 Управление Пользователями (Аутентификация, Профиль)

*   **2.1.1 Страница регистрации**: Создание React-компонентов для регистрации новых пользователей. Интеграция с соответствующим API-эндпоинтом FastAPI.
*   **2.1.2 Страница профиля пользователя**: Разработка React-компонентов для отображения и, при необходимости, редактирования профиля пользователя.
*   **2.1.3 Хранение и обновление JWT**: Реализация механизмов надежного хранения JWT (например, в `localStorage` или `http-only` куках, если бэкенд это поддерживает) и стратегии его обновления (refresh).
*   **2.1.4 Защита маршрутов/компонентов**: Реализация логики в React для ограничения доступа к определенным частям приложения только для аутентифицированных пользователей.

#### 2.2 Миграция модуля "Привычки" (Habits)

*   **2.2.1 Идентификация Flask-маршрутов/шаблонов**: Анализ существующих страниц Flask, связанных с привычками (список, добавление, редактирование).
*   **2.2.2 Компоненты списка привычек**: Создание React-компонентов для отображения списка привычек.
*   **2.2.3 Компоненты для добавления/редактирования привычек**: Разработка форм для создания и изменения привычек.
*   **2.2.4 Интеграция с FastAPI**: Подключение этих компонентов к соответствующим эндпоинтам `/api/habits` в FastAPI.
*   **2.2.5 Функционал логирования привычек**: Перенос форм и логики для отметки выполнения привычек.

#### 2.3 Миграция модуля "Задачи" (Tasks)

*   **2.3.1 Идентификация Flask-маршрутов/шаблонов**: Аналогичный анализ страниц Flask для задач.
*   **2.3.2 Компоненты списка задач**: Создание React-компонентов для отображения списка задач.
*   **2.3.3 Компоненты для добавления/редактирования задач**: Разработка форм для создания и изменения задач.
*   **2.3.4 Интеграция с FastAPI**: Подключение к эндпоинтам `/api/tasks`.

#### 2.4 Миграция модуля "Фильмы" (Movies)

*   **2.4.1 Идентификация Flask-маршрутов/шаблонов**: Аналогичный анализ страниц Flask для фильмов.
*   **2.4.2 Компоненты списка фильмов**: Создание React-компонентов для отображения списка фильмов.
*   **2.4.3 Компоненты для добавления/редактирования фильмов**: Разработка форм для создания и изменения информации о фильмах.
*   **2.4.4 Интеграция с FastAPI**: Подключение к эндпоинтам `/api/movies`.

---

### Фаза 3: Общие Компоненты и Полировка

*   **3.1 Глобальная навигация и макет**: Создание единого React-макета приложения (заголовок, сайдбар, футер), который будет использоваться на всех страницах, по аналогии с `base.html` во Flask. Интеграция ссылок для всех мигрированных модулей.
*   **3.2 Обработка ошибок и уведомления**: Стандартизация отображения ошибок, поступающих от API. Реализация удобных уведомлений для пользователя (например, "тосты" или всплывающие сообщения) о результатах операций (успех/неудача).
*   **3.3 Валидация форм**: Внедрение клиентской валидации для всех форм, улучшая пользовательский опыт.
*   **3.4 Роутинг**: Настройка React Router для клиентской навигации между страницами без полной перезагрузки. Убедиться, что Nginx корректно настроен для обслуживания React-приложения по всем маршрутам.

---

### Фаза 4: Тестирование и Развертывание

*   **4.1 Сквозное тестирование (End-to-End Testing)**: Тщательная проверка всего функционала React-фронтенда. Проведение пользовательского приемочного тестирования.
*   **4.2 Вывод Flask из эксплуатации**: Удаление кода Flask, связанного с пользовательским интерфейсом (шаблоны, маршруты). Убедиться, что Flask-приложение теперь служит исключительно как API (или полностью удалить его, если FastAPI перенял все функции бэкенда).
*   **4.3 Сборка и развертывание для продакшена**: Изменение `frontend/Dockerfile` и `docker-compose.yml` для создания оптимизированной продакшен-сборки фронтенда (обслуживание папки `dist` вместо сервера разработки Vite). Развертывание полностью React-приложения.
